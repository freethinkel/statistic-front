
<ng-container *ngIf="!login">
  <app-login (logEmit)="signin($event)"></app-login>
</ng-container>
<ng-container *ngIf="isOpenQuestModal && isCreateQuest">
  <app-edit-quest-modal 
    [create]="isCreateQuest" 
    (onClose)="closeEditModal()">
  </app-edit-quest-modal>
</ng-container>
<ng-container *ngIf="isOpenQuestModal && !isCreateQuest">
  <app-edit-quest-modal 
    [create]="isCreateQuest" 
    [quest]="quests[indexEdit]" 
    [index]="indexEdit" 
    (onClose)="closeEditModal()">
  </app-edit-quest-modal>
</ng-container>


<ng-container *ngIf="login">
  <div class="admin-wrapper">
    <div class="container">
      
      <div class="col l7">
        <div class="quests-header">
          <h2>Квесты</h2>
          <button class="btn add-quests-btn" (click)="openCreateQuest()">+</button>
        </div>
        <div class="quest" *ngFor="let quest of quests; let index = index;">
          <div class="quest-header">
            <div class="quest-name"> {{ quest.name }} </div>
            <div class="quest-description">{{ quest.type }} | {{ quest.solution }}</div>
          </div>
          <div class="quest-content">
            {{ quest.description | slice:0:200 }}<ng-container *ngIf="quest.description.length >= 200">...</ng-container>
          </div>
          <div class="quest-footer">
            <button class="btn quest-edit-btn" (click)="openEditQuest(index)">Редактировать</button>
          </div>
        </div>
      </div>
      <div class="col l5 blue">
        <h2>Участвовашие</h2>
        <div class="users-wrapper">
          <div class="user" *ngFor="let user of users">
            {{ user.firstName }} {{ user.lastName }}
          </div>
        </div>
      </div>


    </div>
  </div>
</ng-container>